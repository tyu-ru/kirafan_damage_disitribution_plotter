# Description

攻撃時のダメージの分布を調べるためのツールです。

ほぼ自分用なところがあるので、細かい調整はしてません。

[解析wiki](https://wiki.kirafan.moe/)と[きらファン計算機](https://calc.kirafan.moe/#/home)との併用前提なところがあります

出力されるグラフは確率密度分布です。縦軸の具体的な値は気にしないでください。(一応`/damage`単位の数値になってる...はず)

計算方法の都合上ある程度誤差があります。
またダメージ全体から見て非常に小さな値は無視されます(およそ0.5%以下のダメージが無視されます)

~~htmlもjsも初めてだから低クオリティは許して~~

## Attack Division

攻撃の段数と威力分布を示す整数列です。
解析wikiに記載されてます。

例として

- 星5青葉(風魔) とっておき
  - `1 1 1 1 1`
- 星5千矢(火盾) クラススキル1
  - `3 3 3 3 8`
- 星5千矢(風魔) とっておき
  - `1 1`

などです。区切り文字は空白でも`:`でもなんでもおｋです。

## Damage

ダメージの期待値もしくは最大値を入力してください

入力した値に応じて隣のboxの中身を選んでください

- expect(critical)
  - 入力値がクリティカル時の期待値(きらファン計算機ででかでかと表示される値です)
- maximum(critical)
  - 入力値がクリティカル時の最大値
- expect(not critical)
  - 入力値が非クリティカル時の期待値
- maximum(not critical)
  - 入力値が非クリティカル時の最大値

## Critical Probability

クリティカル確率です。

## Critical Damage Change

クリティカルダメージ量の変化です。

最大100%最小-33%です。

参考までに、

- ゆの専用武器 +33%
- かおす先生専用武器 +17%
- サンリオアリス/冠 +16.3%
- ごちうさ/きらファンオーブ +17%

## Damage Sample

グラフの積分用の設定値です。

グラフ上にある赤い枠の両端を設定します。この範囲の確率を計算できます。

`pick`ボタンを推してからグラフ上をクリックするとその地点のx座標が選択されます。

選択範囲の積分値が`Probability = xx %`として入力欄の下に表示されます。

## add/rem

別の攻撃によるダメージを追加できます。

複数連とっておきなどの検証にどうぞ。

## Other Settings

- auto scale x min
  - チェックが入っているとグラフのx軸範囲の下限を自動調整します。
  - オフでグラフ原点を表示範囲に含むようになります(デフォルト)
- fixed-range
  - チェックが入っているとグラフの表示範囲が固定されます(デフォルト)
  - オフの時は拡大とか移動とかできます。
  - グラフのy軸方向の拡大、移動はできないようにしてます

## Author

ちゅーる [@tyuru_kirafan](https://twitter.com/tyuru_kirafan)
